(()=>{var e={};e.id=6495,e.ids=[6495],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},66662:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(67096),i=s(16132),n=s(37284),a=s.n(n),l=s(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["profile",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,93222)),"/Users/jlau/Code-2023/cpmarketplace/src/app/profile/[id]/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,96109)),"/Users/jlau/Code-2023/cpmarketplace/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/jlau/Code-2023/cpmarketplace/src/app/profile/[id]/page.js"],h="/profile/[id]/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/profile/[id]/page",pathname:"/profile/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},77008:(e,t,s)=>{Promise.resolve().then(s.bind(s,5760))},5760:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Profile});var r=s(30784),i=s(9885),n=s(33987),a=s.n(n),l=s(43872),o=s(81932),c=s.n(o),d=s(99360),h=s.n(d),u=s(21971),p=s.n(u),x=s(95843),g=s.n(x),m=s(11666),j=s.n(m),f=s(16854),b=s(48060),y=s.n(b),v=s(71829),S=s.n(v),C=s(88707),P=s.n(C),w=s(61272),k=s.n(w),I=s(87726),A=s.n(I),L=s(307),Z=s.n(L),q=s(57114),U=s(18282);s(40140);var _=s(96106),D=s(29300),R=s(39223),E=s(30237),N=s(40529),O=s(99066),V=s(69700),J=s(8349),M=s(53531),$=s.n(M),F=s(70436),T=s(61522),B=s(76151);function MyListings({user:e}){let[t,s]=(0,i.useState)([]),[n,o]=(0,i.useState)(1);return(0,i.useEffect)(()=>{let fetchListings=async()=>{let t=(0,T.IO)((0,T.hJ)(B.db,"listings"),(0,T.ar)("sellerId","==",e.uid),(0,T.Xo)("createdAt","desc")),r=await (0,T.PL)(t),i=[];r.forEach(e=>{i.push({id:e.id,...e.data()})}),s(i)};fetchListings()},[]),r.jsx(l.Z,{px:3,py:2,children:0===t.length?(0,r.jsxs)(l.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pb:10,children:[r.jsx("img",{src:"/_next/static/fonts/standing-19.svg",alt:"No Listings"}),(0,r.jsxs)(a(),{pt:5,variant:"h5",children:[(0,r.jsxs)("strong",{children:["No listings found by ",e.name]})," "]})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(p(),{container:!0,spacing:2,children:t.slice((n-1)*10,10*n).map(e=>{let t=e.location.split(", "),s=t.length>2?`${t[1]}, ${t[2]}`:e.location;return r.jsx(p(),{item:!0,children:r.jsx(F.Z,{listingId:e.id,title:e.title,createdAt:e.createdAt,updatedAt:e.updatedAt,description:e.description,images:e.images,location:s,price:e.price,studentVerification:e.studentVerification,priceHistory:e.priceHistory})},e.id)})}),r.jsx(f.default,{spacing:2,alignItems:"center",marginY:5,children:r.jsx($(),{count:Math.ceil(t.length/10),page:n,onChange:(e,t)=>{o(t)}})})]})})}var H=s(52694),z=s.n(H),G=s(92870),W=s.n(G),Y=s(26017),X=s.n(Y),K=s(49696),Q=s.n(K),ee=s(16614),et=s.n(ee),es=s(62969),er=s.n(es),ei=s(42153),en=s.n(ei),ea=s(16856),el=s.n(ea),eo=s(95915),ec=s.n(eo),ed=s(96686),eh=s(64622);function Settings({user:e,setUser:t,setCurrentTab:s}){let[n,o]=(0,i.useState)({}),[d,h]=(0,i.useState)(),[u,x]=(0,i.useState)([]),[m,j]=(0,i.useState)([]),[f,b]=(0,i.useState)(!1),[v,S]=(0,i.useState)(!1),C=(0,q.useRouter)(),[P,w]=(0,i.useState)(null),handleChange1=e=>{w(e.target.value)},[k,I]=(0,i.useState)(null),handleChange2=e=>{I(e.target.value)},[A,L]=(0,i.useState)(null),handleChange3=e=>{L(e.target.value)},Z=(0,i.useCallback)(e=>{let t=e[0],s=URL.createObjectURL(t);x([t,s]),b(!1)},[]),U=(0,i.useCallback)(e=>{let t=e[0],s=URL.createObjectURL(t);j([t,s]),S(!1)},[]),{getRootProps:R,getInputProps:E}=(0,eh.useDropzone)({onDrop:Z,maxFiles:1,accept:{"image/*":[".jpeg",".jpg",".png"]}}),{getRootProps:N,getInputProps:O}=(0,eh.useDropzone)({onDrop:U,maxFiles:1,accept:{"image/*":[".jpeg",".jpg",".png"]}}),handleProfileImageDialogClose=()=>{b(!1)},handleHeroDialogClose=()=>{S(!1)};async function handleSaveSettings(r){r.preventDefault();let i=new FormData(r.currentTarget),a=e.uid,l=i.get("name"),c=i.get("location"),d=i.get("phoneNumber");if(d&&(!r.currentTarget.reportValidity()||!d.match(/^(\+\d{1,2}\s?)?1?\-?\.?\s?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/)))return o({...n,phoneNumber:{error:!0,message:"Your phone number is not formatted correctly."}}),!1;let p={name:l,location:c,phoneNumber:d};if(0!=u.length)try{let e=await (0,_.Ix)(a,u[0]);p.profileImage=e}catch(e){return console.error(e),h(e.message),!1}if(0!=m.length)try{let e=await (0,_.Ix)(a,m[0]);p.heroImage=e}catch(e){return console.error(e),h(e.message),!1}await (0,_.Nq)(a,p).then(()=>{C.push(`/profile/${a}`)}).catch(e=>{console.error(e),h(e.message)});let x={...e,...p};return t(x),s(0),!1}return(0,r.jsxs)("div",{style:{width:"100%",textAlign:"left",height:"100vh"},children:[(0,r.jsxs)("form",{onSubmit:function(e){"saveSettings"==e.nativeEvent.submitter.name&&handleSaveSettings(e)},style:{padding:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[d?r.jsx(c(),{severity:"error",children:d}):null,(0,r.jsxs)(p(),{container:!0,spacing:2,columnSpacing:8,alignItems:"center",justifyContent:"center",mt:3,children:[(0,r.jsxs)(p(),{item:!0,children:[r.jsx(a(),{align:"center",children:"Profile Picture"}),r.jsx(y(),{onClick:()=>{b(!0)},children:r.jsx(z(),{elevation:3,sx:{width:100,height:100,backgroundImage:`url(${u[1]})`,backgroundSize:"cover",backgroundPosition:"center",position:"relative",borderRadius:"50%"},children:!u[1]&&r.jsx(g(),{alt:"Banner",sx:{width:100,height:100},variant:"circular",children:r.jsx(D.Z,{})})})})]}),(0,r.jsxs)(p(),{item:!0,children:[r.jsx(a(),{align:"center",children:"Banner Image"}),r.jsx(y(),{onClick:()=>{S(!0)},sx:{borderRadius:0},children:r.jsx(z(),{elevation:3,sx:{width:200,height:100,backgroundImage:`url(${m[1]})`,backgroundSize:"cover",backgroundPosition:"center",position:"relative"},children:!m[1]&&r.jsx(g(),{alt:"Banner",sx:{width:200,height:100},variant:"square",children:r.jsx(ed.Z,{})})})})]})]}),r.jsx("br",{}),(0,r.jsxs)("div",{style:{width:"30%"},children:[r.jsx(W(),{margin:"dense",variant:"standard",id:"fname",name:"name",label:"Name",defaultValue:e.name,type:"text",required:!0,fullWidth:!0,inputProps:{maxLength:64}}),r.jsx("br",{}),r.jsx(l.Z,{sx:{ml:2},children:r.jsx(X(),{control:r.jsx(Q(),{checked:"option1"===P,onChange:handleChange1,value:"option1"}),label:"Show Email to Registered Users"})}),r.jsx(l.Z,{sx:{ml:2},children:r.jsx(X(),{control:r.jsx(Q(),{checked:"option2"===P,onChange:handleChange1,value:"option2"}),label:"Verified Students Only"})}),r.jsx("br",{}),r.jsx(W(),{margin:"dense",variant:"standard",id:"location",name:"location",label:"Location",type:"text",defaultValue:e.location,fullWidth:!0,inputProps:{maxLength:64}}),r.jsx("br",{}),r.jsx(l.Z,{sx:{ml:2},children:r.jsx(X(),{control:r.jsx(Q(),{checked:"option1"===k,onChange:handleChange2,value:"option1"}),label:"Show Location to Registered Users"})}),r.jsx(l.Z,{sx:{ml:2},children:r.jsx(X(),{control:r.jsx(Q(),{checked:"option2"===k,onChange:handleChange2,value:"option2"}),label:"Verified Students Only"})}),r.jsx("br",{}),r.jsx(W(),{margin:"dense",name:"phoneNumber",id:"phoneNumber",label:"Phone Number",defaultValue:e.phoneNumber,type:"tel",fullWidth:!0,error:n.phoneNumber?.error,helperText:n.phoneNumber?.message,variant:"standard",inputProps:{maxLength:16}}),r.jsx("br",{}),r.jsx(l.Z,{sx:{ml:2},children:r.jsx(X(),{control:r.jsx(Q(),{checked:"option1"===A,onChange:handleChange3,value:"option1"}),label:"Show Phone Number to Registered Users"})}),r.jsx(l.Z,{sx:{ml:2},children:r.jsx(X(),{control:r.jsx(Q(),{checked:"option2"===A,onChange:handleChange3,value:"option2"}),label:"Verified Students Only"})}),r.jsx("br",{}),r.jsx("br",{}),r.jsx(et(),{type:"submit",name:"saveSettings",variant:"contained",color:"primary",sx:{color:"white"},fullWidth:!0,children:"Save Settings"}),(0,r.jsxs)(p(),{container:!0,spacing:3,justifyContent:"center",pt:6,children:[r.jsx(p(),{item:!0,xs:12,sm:6,md:6,lg:6,children:r.jsx(et(),{type:"submit",name:"resetPassword",variant:"contained",color:"error",sx:{color:"white"},fullWidth:!0,children:"Reset Password"})}),r.jsx(p(),{item:!0,xs:12,sm:6,md:6,lg:6,children:r.jsx(et(),{type:"submit",name:"deleteAccount",variant:"contained",color:"error",sx:{color:"white"},fullWidth:!0,children:"Delete Account"})})]}),r.jsx("br",{})]})]}),(0,r.jsxs)(er(),{open:f,onClose:handleProfileImageDialogClose,"aria-labelledby":"responsive-dialog-title",children:[r.jsx(en(),{id:"responsive-dialog-title",children:"Upload Profile Image"}),r.jsx(el(),{children:(0,r.jsxs)("div",{...R(),style:{border:"1px dashed gray",padding:"20px",cursor:"pointer"},children:[r.jsx("input",{...E()}),r.jsx(a(),{variant:"body1",children:"Drag & drop an image here, or click to select one"})]})}),r.jsx(ec(),{children:r.jsx(et(),{autoFocus:!0,onClick:handleProfileImageDialogClose,color:"primary",children:"Cancel"})})]}),(0,r.jsxs)(er(),{open:v,onClose:handleHeroDialogClose,"aria-labelledby":"responsive-dialog-title",children:[r.jsx(en(),{id:"responsive-dialog-title",children:"Upload Banner Image"}),r.jsx(el(),{children:(0,r.jsxs)("div",{...N(),style:{border:"1px dashed gray",padding:"20px",cursor:"pointer"},children:[r.jsx("input",{...O()}),r.jsx(a(),{variant:"body1",children:"Drag & drop an image here, or click to select one"})]})}),r.jsx(ec(),{children:r.jsx(et(),{autoFocus:!0,onClick:handleHeroDialogClose,color:"primary",children:"Cancel"})})]})]})}function FavoriteListings({user:e}){let[t,s]=(0,i.useState)([]),[n,a]=(0,i.useState)(1),fetchListingsByIds=async e=>{let t=(0,T.IO)((0,T.hJ)(B.db,"listings"),(0,T.ar)((0,T.Jm)(),"in",e),(0,T.b9)(10)),s=await (0,T.PL)(t),r=[];return s.forEach(e=>{r.push({id:e.id,...e.data()})}),r};return(0,i.useEffect)(()=>{let fetchListings=async()=>{let t=e.favoriteListings,r=[];for(let e=0;e<t.length;e+=10)r.push(t.slice(e,Math.min(e+10,t.length)));let i=[];for(let e of r)await fetchListingsByIds(e).then(e=>{i.push(e)}).catch(e=>{console.error(e)});let n=i.flat();n.sort((e,t)=>t.createdAt.seconds-e.createdAt.seconds),s(n)};fetchListings()},[]),(0,r.jsxs)(l.Z,{px:3,py:2,children:[r.jsx(p(),{container:!0,spacing:2,children:t.slice((n-1)*10,10*n).map(e=>{let t=e.location.split(", "),s=t.length>2?`${t[1]}, ${t[2]}`:e.location;return r.jsx(p(),{item:!0,children:r.jsx(F.Z,{listingId:e.id,title:e.title,createdAt:e.createdAt,updatedAt:e.updatedAt,description:e.description,images:e.images,location:s,price:e.price,studentVerification:e.studentVerification,priceHistory:e.priceHistory})},e.id)})}),r.jsx(f.default,{spacing:2,alignItems:"center",marginY:5,children:r.jsx($(),{count:Math.ceil(t.length/10),page:n,onChange:(e,t)=>{a(t)}})})]})}var eu=s(45003),ep=s.n(eu),ex=s(6176),eg=s.n(ex),em=s(43610),ej=s.n(em),ef=s(93429),eb=s.n(ef),ey=s(41857),ev=s.n(ey),eS=s(64832),eC=s.n(eS),eP=s(32122);let ProfileTabs_AdminPanel=()=>{let[e,t]=(0,i.useState)([]),[s,n]=(0,i.useState)([]),[a,o]=(0,i.useState)(null),[d,u]=(0,i.useState)(null),[x,g]=(0,i.useState)(!1),[m,f]=(0,i.useState)(1),[b,v]=(0,i.useState)(1),[S,C]=(0,i.useState)(!1),[P,w]=(0,i.useState)("success"),[k,I]=(0,i.useState)("");(0,i.useEffect)(()=>{let fetchUsersAndListings=async()=>{g(!0);try{let e=(0,T.hJ)(B.db,"users"),s=await (0,T.PL)(e),r=s.docs.map(e=>({id:e.id,...e.data()}));t(r);let i=(0,T.hJ)(B.db,"listings"),a=await (0,T.PL)(i),l=a.docs.map(e=>({id:e.id,...e.data()}));n(l)}catch(e){console.error("Error fetching data: ",e)}g(!1)};fetchUsersAndListings()},[]);let handleCloseAlert=(e,t)=>{"clickaway"!==t&&C(!1)},handleSearchUser=async()=>{g(!0);try{let e=(0,T.hJ)(B.db,"users"),s=(0,T.IO)(e,(0,T.ar)("name","==",a)),r=await (0,T.PL)(s);if(r.empty)console.log("No matching users.");else{let e=r.docs.map(e=>({id:e.id,...e.data()}));t(e)}}catch(e){console.error("Error searching users: ",e)}g(!1)},handleSearchListing=async()=>{g(!0);try{let e=(0,T.hJ)(B.db,"listings"),t=(0,T.IO)(e,(0,T.ar)("title","==",d)),s=await (0,T.PL)(t);if(s.empty)console.log("No matching listings.");else{let e=s.docs.map(e=>({id:e.id,...e.data()}));n(e)}}catch(e){console.error("Error searching listings: ",e)}g(!1)},handleDeleteListing=async e=>{try{let t=(0,T.JU)(B.db,"listings",e);await (0,T.oe)(t),C(!0),w("success"),I("Listing deleted successfully!")}catch(e){console.error("Error deleting listing: ",e),C(!0),w("error"),I("Failed to delete listing.")}};return x?r.jsx(h(),{}):(0,r.jsxs)(l.Z,{sx:{padding:"16px"},children:[(0,r.jsxs)(p(),{container:!0,spacing:2,children:[(0,r.jsxs)(p(),{item:!0,xs:12,md:6,children:[r.jsx(ep(),{options:e.map(e=>e.name),getOptionLabel:e=>e,value:a,onChange:(e,t)=>{o(t)},renderInput:e=>r.jsx(W(),{...e,label:"Search User",margin:"normal"})}),r.jsx(et(),{startIcon:r.jsx(eP.Z,{}),onClick:handleSearchUser,children:"Search"}),r.jsx(eg(),{children:e.slice((m-1)*5,5*m).map(e=>(0,r.jsxs)(ej(),{children:[r.jsx(eb(),{primary:e.name}),r.jsx(ev(),{children:r.jsx(j(),{title:"Delete User",children:r.jsx(y(),{edge:"end",onClick:()=>handleDeleteListing(listing.id),children:r.jsx(E.Z,{})})})})]},e.id))}),r.jsx($(),{count:Math.ceil(e.length/5),page:m,onChange:(e,t)=>{f(t)}})]}),(0,r.jsxs)(p(),{item:!0,xs:12,md:6,children:[r.jsx(ep(),{options:s.map(e=>e.title),getOptionLabel:e=>e,value:d,onChange:(e,t)=>{u(t)},renderInput:e=>r.jsx(W(),{...e,label:"Search Listing",margin:"normal"})}),r.jsx(et(),{startIcon:r.jsx(eP.Z,{}),onClick:handleSearchListing,children:"Search"}),r.jsx(eg(),{children:s.slice((b-1)*5,5*b).map(e=>(0,r.jsxs)(ej(),{children:[r.jsx(eb(),{primary:e.title}),r.jsx(ev(),{children:r.jsx(j(),{title:"Delete",children:r.jsx(y(),{edge:"end",onClick:()=>handleDeleteListing(e.id),children:r.jsx(E.Z,{})})})})]},e.id))}),r.jsx($(),{count:Math.ceil(s.length/5),page:b,onChange:(e,t)=>{v(t)}})]})]}),r.jsx(eC(),{open:S,autoHideDuration:6e3,onClose:handleCloseAlert,anchorOrigin:{vertical:"top",horizontal:"left"},children:r.jsx(c(),{onClose:handleCloseAlert,severity:P,sx:{width:"100%"},children:k})})]})},AdminBadge=()=>r.jsx(a(),{color:"error",component:"span",children:"(Admin)"});function Profile({params:e}){let[t,s]=(0,i.useState)({isAdmin:!1,isStudent:!1}),[n,o]=(0,i.useState)(!1),[d,u]=(0,i.useState)(!0),[x,m]=(0,i.useState)(),[b,v]=(0,i.useState)(!1),[C,w]=(0,i.useState)(0),[I,L]=(0,i.useState)(null),[M,$]=(0,i.useState)("https://www.calpoly.edu/sites/calpoly.edu/files/inline-images/20210403-SpringScenics-JoeJ0020.jpg"),[F,T]=(0,i.useState)(!1),[B,H]=(0,i.useState)(!1),{getUser:z,isLoggedIn:G,isAdmin:W}=(0,U.useAuth)(),Y=(0,q.useRouter)();(0,i.useEffect)(()=>{if(B){let e=setTimeout(()=>{Y.push("/home")},5e3);return()=>clearTimeout(e)}},[B,Y]);let X=e.id;if((0,i.useEffect)(()=>{(0,_.PR)(X).then(e=>{if(!e){s(e),u(!1);return}if(""==e.profileImage&&(e.profileImage=null),""==e.heroImage&&(e.heroImage=null),e.uid=X,G()){let t=z();t.uid==X?(o(!0),t.emailVerified&&"calpoly.edu"==t.email.split("@").pop()&&!e.isStudent&&fetch(`/api/verify/${X}`,{method:"put"}).catch(e=>{console.error(e),m(e.message)})):W().then(e=>{e&&o(!0)}).catch(e=>{console.error(e),m(e.message)})}let checkAdminStatus=async()=>{let e=await W();v(e)};G()&&checkAdminStatus(),s(e),u(!1)}).catch(e=>{console.error(e),m(e.message)})},[G,W]),!d){if(!t)return r.jsx(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",border:"2px solid #ff0000",borderRadius:"8px",backgroundColor:"#ffeeee"},children:r.jsx(a(),{variant:"h6",color:"error",margin:30,children:"User not found!"})});if(""==t.name){if(n){Y.push("/setup");return}return r.jsx(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",border:"2px solid #ff0000",borderRadius:"8px",backgroundColor:"#ffeeee"},children:r.jsx(a(),{variant:"h6",color:"error",margin:30,children:"User has not set up their page yet!"})})}}return B?(0,r.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx(a(),{variant:"h4",gutterBottom:!0,children:"You are now logged in!"}),r.jsx(a(),{children:"You will be redirected to the home screen in 5 seconds..."})]}):(0,r.jsxs)(l.Z,{sx:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center"},children:[!d&&r.jsx(l.Z,{sx:{width:"100%",height:300,backgroundImage:t.heroImage?`url(${t.heroImage})`:"url(https://www.calpoly.edu/sites/calpoly.edu/files/inline-images/20210403-SpringScenics-JoeJ0020.jpg)",backgroundSize:"cover",backgroundPosition:"center",position:"relative"}}),x&&r.jsx(c(),{severity:"error",children:x}),d?r.jsx(h(),{sx:{height:"100vh"}}):(0,r.jsxs)(p(),{container:!0,spacing:2,alignItems:"center",justifyContent:"center",mt:3,children:[r.jsx(p(),{item:!0,children:r.jsx(g(),{alt:"Profile Picture",src:t.profileImage,sx:{width:80,height:80},children:r.jsx(D.Z,{})})}),(0,r.jsxs)(p(),{item:!0,children:[(0,r.jsxs)(a(),{variant:"h4",gutterBottom:!0,children:[t.name,t.isVerified&&r.jsx(j(),{title:"The user is a verified student.",children:r.jsx(J.Z,{color:"primary"})}),t.isAdmin&&r.jsx(AdminBadge,{})," "]}),(0,r.jsxs)(f.default,{direction:"row",children:[r.jsx(a(),{variant:"subtitle1",children:"Seller"}),r.jsx(j(),{title:"User is a student",children:r.jsx(l.Z,{pl:1,children:t.isStudent&&r.jsx(R.Z,{})})})]})]}),(0,r.jsxs)(p(),{item:!0,xs:12,sm:"auto",children:[r.jsx(y(),{"aria-label":"User Actions",onClick:e=>{L(e.currentTarget)},children:r.jsx(V.Z,{})}),(0,r.jsxs)(S(),{id:"long-menu",anchorEl:I,open:!!I,onClose:()=>{L(null)},children:[r.jsx(r.Fragment,{children:(0,r.jsxs)(P(),{onClick:()=>handleUserActions("delete"),sx:{color:"red"},children:[r.jsx(E.Z,{})," Delete Account"]})}),(0,r.jsxs)(P(),{onClick:()=>handleUserActions("report"),children:[r.jsx(N.Z,{})," Report User"]}),(0,r.jsxs)(P(),{onClick:()=>handleUserActions("share"),children:[r.jsx(O.Z,{})," Share Profile"]})]})]})]}),r.jsx(k(),{sx:{my:2,width:"100%"}}),(0,r.jsxs)(A(),{value:C,onChange:(e,t)=>{w(t)},centered:!0,children:[r.jsx(Z(),{label:"My Listings"}),n&&r.jsx(Z(),{label:"Settings"}),n&&r.jsx(Z(),{label:"Favorites"}),n&&r.jsx(Z(),{label:"Purchase History"}),n&&r.jsx(Z(),{label:"Admin Panel"})]}),0===C&&!d&&r.jsx(MyListings,{user:t}),1===C&&!d&&n&&r.jsx(Settings,{user:t,setUser:s,setCurrentTab:w}),2===C&&!d&&n&&r.jsx(FavoriteListings,{user:t}),3===C&&!d&&n&&r.jsx("div",{children:"Not implemented yet"}),4===C&&!d&&n&&r.jsx(ProfileTabs_AdminPanel,{user:t})]})}},93222:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>o});var r=s(95153);let i=(0,r.createProxy)(String.raw`/Users/jlau/Code-2023/cpmarketplace/src/app/profile/[id]/page.js`),{__esModule:n,$$typeof:a}=i,l=i.default,o=l}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[6126,3657,1827,1323,4359,3234,2870,2133,9234,8557,1089,9360,9175,1895,676,9781,6640,402,2291,436],()=>__webpack_exec__(66662));module.exports=s})();