(()=>{var e={};e.id=4966,e.ids=[4966],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},87066:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>d,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>l});var s=t(67096),a=t(16132),n=t(37284),i=t.n(n),o=t(32564),p={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(p[e]=()=>o[e]);t.d(r,p);let l=["",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,65548)),"/Users/jlau/Code-2023/cpmarketplace/src/app/signup/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,96109)),"/Users/jlau/Code-2023/cpmarketplace/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/jlau/Code-2023/cpmarketplace/src/app/signup/page.js"],c="/signup/page",d={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},74976:(e,r,t)=>{Promise.resolve().then(t.bind(t,69758))},69758:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Signup});var s=t(30784),a=t(9885),n=t(21971),i=t.n(n),o=t(52694),p=t.n(o),l=t(43872),u=t(33987),c=t.n(u),d=t(81932),m=t.n(d),g=t(92870),x=t.n(g),h=t(16614),f=t.n(h),w=t(57114),v=t(18282),j=t(96106),b=t(40140),q=t(89547);function Signup(){let[e,r]=(0,a.useState)({email:"",password:"",passwordConfirmation:""}),[t,n]=(0,a.useState)(),o=(0,w.useRouter)(),{signUp:u}=(0,v.useAuth)();async function handleSignup(t){t.preventDefault();let s=t.currentTarget.reportValidity(),a=new FormData(t.currentTarget),i=a.get("email"),p=a.get("password"),l=a.get("passwordConfirmation");return p!=l?(n(),r({...e,passwordConfirmation:{error:!0,message:"Your passwords don't match."}})):!s||p.length<6?(n("Passwords must be at least 6 characters long"),r({...e,passwordConfirmation:{error:!1,message:""}})):await u(i,p).then(async e=>{let r=e.user;await (0,j.r4)(r.uid,r.email).then(async()=>{"calpoly.edu"==r.email.split("@").pop()&&await (0,b.w$)(r).catch(e=>{console.error(e),n(e.message)}),o.push("/setup")}).catch(e=>{console.error(e),n(e.message)})}).catch(e=>{console.log(e),n(e.message)}),!1}function handleChange({field:t,value:s}){r({...e,[t]:s})}return s.jsx(s.Fragment,{children:(0,s.jsxs)(i(),{container:!0,component:"main",sx:{height:"100vh"},children:[s.jsx(i(),{item:!0,xs:12,sm:8,md:5,component:p(),elevation:6,square:!0,children:(0,s.jsxs)(l.Z,{sx:{width:.5,margin:"auto",textAlign:"center",height:"100vh"},children:[s.jsx("img",{src:q.Z,alt:"Logo",style:{width:"300px"}}),s.jsx(c(),{variant:"h5",pb:6,children:s.jsx("strong",{children:"Sign Up for an account."})}),(0,s.jsxs)("form",{onSubmit:handleSignup,children:[t&&s.jsx(m(),{severity:"error",children:t}),s.jsx(x(),{autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",name:"email",fullWidth:!0,value:e.email,onChange:e=>handleChange({field:"email",value:e.target.value}),error:e.email?.error}),s.jsx("br",{}),s.jsx(x(),{margin:"dense",id:"password",label:"Password",type:"password",name:"password",fullWidth:!0,value:e.password,onChange:e=>handleChange({field:"password",value:e.target.value})}),s.jsx("br",{}),s.jsx(x(),{margin:"dense",id:"passwordConfirmation",label:"Password Confirmation",type:"password",name:"passwordConfirmation",fullWidth:!0,value:e.passwordConfirmation,onChange:e=>handleChange({field:"passwordConfirmation",value:e.target.value}),error:e.passwordConfirmation?.error,helperText:e.passwordConfirmation?.message}),s.jsx("br",{}),s.jsx("br",{}),s.jsx(f(),{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"},children:"Sign Up"})]})]})}),s.jsx(i(),{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random?wallpapers)",backgroundRepeat:"no-repeat",backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}})]})})}},65548:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>n,default:()=>p});var s=t(95153);let a=(0,s.createProxy)(String.raw`/Users/jlau/Code-2023/cpmarketplace/src/app/signup/page.js`),{__esModule:n,$$typeof:i}=a,o=a.default,p=o}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[6126,3657,1827,1323,4359,2870,402,2291],()=>__webpack_exec__(87066));module.exports=t})();