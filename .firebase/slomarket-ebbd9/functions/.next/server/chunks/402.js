exports.id=402,exports.ids=[402],exports.modules={89547:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let r="/_next/static/fonts/logo.svg"},23551:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,13724,23)),Promise.resolve().then(n.t.bind(n,35365,23)),Promise.resolve().then(n.t.bind(n,44900,23)),Promise.resolve().then(n.t.bind(n,44714,23)),Promise.resolve().then(n.t.bind(n,45392,23)),Promise.resolve().then(n.t.bind(n,8898,23))},75141:(e,t,n)=>{Promise.resolve().then(n.bind(n,18282)),Promise.resolve().then(n.bind(n,22345))},76151:(e,t,n)=>{"use strict";n.d(t,{I8:()=>a,db:()=>c,tO:()=>d});var r=n(72856);n(78264);var s=n(61522),o=n(31640),i=n(40140);let l=(0,r.ZF)({apiKey:"AIzaSyBjEHdFQZFsfN-RGa59n16XO7qQ4dhFsAo",authDomain:"slomarket-ebbd9.firebaseapp.com",projectId:"slomarket-ebbd9",storageBucket:"slomarket-ebbd9.appspot.com",messagingSenderId:"247606192779",appId:"1:247606192779:web:421bdc33c388c5c8e828e",measurementId:"G-E3DPKJ6L5V"}),a=(0,i.v0)(l),c=(0,s.ad)(l),d=(0,o.cF)(l)},18282:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>AuthProvider,useAuth:()=>useAuth});var r=n(30784),s=n(9885),o=n(76151),i=n(40140);let l=(0,s.createContext)();function useAuth(){return(0,s.useContext)(l)}function AuthProvider({children:e}){let[t,n]=(0,s.useState)(),[a,c]=(0,s.useState)(!0);async function isAdmin(){return await o.I8.currentUser.getIdTokenResult().then(e=>!!e.claims.admin).catch(e=>{throw e})}return(0,s.useEffect)(()=>{let e=o.I8.onAuthStateChanged(e=>{n(e),c(!1)},e=>{console.error("Authentication error:",e),c(!1)});return e},[]),r.jsx(l.Provider,{value:{currentUser:t,getUser:function(){return o.I8.currentUser},isLoggedIn:function(){return null!==o.I8.currentUser},isAdmin,login:function(e,t){return o.I8.signInWithEmailAndPassword(e,t)},signOut:function(){return o.I8.signOut()},signUp:function(e,t){return(0,i.Xb)(o.I8,e,t)}},children:!a&&e})}},22345:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>RootLayout});var r=n(30784),s=n(87268),o=n.n(s),i=n(9885),l=n(16854),a=n(43872),c=n(33987),d=n.n(c),h=n(39966),u=n.n(h),x=n(56995),m=n.n(x),p=n(21971),g=n.n(p);function Copyright(){return(0,r.jsxs)(d(),{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",r.jsx(m(),{color:"inherit",to:"https://slo.market/",children:"SLOMarket"})," ",new Date().getFullYear(),"."]})}function Footer(){return r.jsx(a.Z,{component:"footer",sx:{py:3,px:2,mt:"auto",backgroundImage:"url(/assets/footer.png)",backgroundSize:"cover",backgroundRepeat:"no-repeat",height:"100%"},children:r.jsx(u(),{maxWidth:"xl",children:(0,r.jsxs)(g(),{container:!0,spacing:3,direction:"column",alignItems:"center",children:[r.jsx(g(),{item:!0,children:r.jsx("img",{src:"/_next/static/fonts/footerlogo.svg",alt:"SLOMarket Logo",style:{maxWidth:"100%"}})}),r.jsx(g(),{item:!0,children:r.jsx(d(),{variant:"h4",align:"center",children:r.jsx("strong",{children:"Connecting local growers and merchants on one platform."})})}),r.jsx(g(),{item:!0,children:(0,r.jsxs)(l.default,{mt:2,direction:"row",spacing:6,children:[r.jsx(m(),{to:"#",color:"inherit",children:"About Us"}),r.jsx(m(),{to:"#",color:"inherit",children:"How It Works"}),r.jsx(m(),{to:"#",color:"inherit",children:"Community Guidelines"}),r.jsx(m(),{to:"#",color:"inherit",children:"Support"})]})}),r.jsx(g(),{item:!0,children:(0,r.jsxs)(l.default,{mt:2,direction:"row",spacing:6,children:[r.jsx(m(),{to:"#",color:"inherit",children:"Facebook"}),r.jsx(m(),{to:"#",color:"inherit",children:"Twitter"}),r.jsx(m(),{to:"#",color:"inherit",children:"Instagram"})]})}),r.jsx(g(),{item:!0,children:r.jsx(a.Z,{mt:5,children:r.jsx(Copyright,{})})})]})})})}var f=n(57114),j=n(83476),y=n(73392),b=n.n(y),v=n(32122);n(76151);let C=(0,j.styled)("div")(({theme:e})=>({position:"relative",borderRadius:e.shape.borderRadius,color:"white",backgroundColor:(0,j.alpha)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,j.alpha)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(3),width:"auto"}})),w=(0,j.styled)("div")(({theme:e})=>({padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"})),I=(0,j.styled)(b())(({theme:e})=>({color:"inherit",fontWeight:"bold","& .MuiInputBase-input":{padding:e.spacing(1,1,1,0),paddingLeft:`calc(1em + ${e.spacing(4)})`,transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("md")]:{width:"60ch"}}})),Searchbar=()=>{let[e,t]=(0,i.useState)(""),n=(0,f.useRouter)();return(0,r.jsxs)(C,{children:[r.jsx(w,{children:r.jsx(v.Z,{})}),r.jsx("form",{onSubmit:t=>{t.preventDefault(),n.push(`/search?query=${encodeURIComponent(e)}`)},children:r.jsx(I,{placeholder:"Searchâ€¦",inputProps:{"aria-label":"search"},value:e,onChange:e=>{t(e.target.value)}})})]})},k=(0,j.createTheme)({palette:{type:"light",primary:{main:"#4FB18C",contrastText:"rgba(255,255,255,0.87)"},secondary:{main:"#8ECDB5",contrastText:"#ffffff"},background:{default:"#eeeeee"},error:{main:"#FE5F55"},warning:{main:"#ff9800"},info:{main:"#2196f3"}},typography:{fontFamily:"PT Sans",button:{fontWeight:700}},components:{MuiCssBaseline:{styleOverrides:`
            @font-face {
                font-family: 'PT Sans';
                src: url(/_next/static/fonts/PTSans-Regular.ttf) format('truetype');
                font-weight: normal;
                font-style: normal;
            }
            // ... other styles
            `}}});var S=n(26858),P=n(11440),L=n.n(P),A=n(71829),Z=n.n(A),F=n(88707),R=n.n(F),M=n(98331),U=n(79536),T=n.n(U),W=n(74147),D=n.n(W),E=n(16614),O=n.n(E),G=n(48060),B=n.n(G),H=n(64832),$=n.n(H),_=n(81932),z=n.n(_),N=n(18282),q=n(96474),K=n(89547);function RootLayout({children:e,title:t}){let{isLoggedIn:n,getUser:s,signOut:l}=(0,N.useAuth)(),[c,h]=(0,i.useState)(null),[x,m]=(0,i.useState)({open:!1,message:""}),p=(0,f.useRouter)(),g=(0,N.useAuth)(),y=null!==g.currentUser,handleMenuClose=()=>{h(null)};return r.jsx(j.ThemeProvider,{theme:k,children:r.jsx(M.Z,{children:r.jsx("main",{className:o().className,children:(0,r.jsxs)(a.Z,{display:"flex",flexDirection:"column",minHeight:"100vh",children:[r.jsx(T(),{position:"static",children:r.jsx(u(),{maxWidth:"xl",children:(0,r.jsxs)(D(),{disableGutters:!0,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsx(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsxs)(L(),{href:"/",style:{display:"flex",alignItems:"center",textDecoration:"none"},children:[r.jsx("img",{src:K.Z,alt:"Logo",style:{height:"40px",marginRight:"10px"}}),r.jsx(d(),{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"flex",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".1rem",color:"white",textDecoration:"none",lineHeight:"inherit"},children:t})]})}),r.jsx(a.Z,{sx:{flexGrow:1,display:"flex",justifyContent:{md:"center"}},children:r.jsx(Searchbar,{sx:{width:{xs:"calc(100% - 120px)",sm:"60%",md:"40%"}}})}),(0,r.jsxs)(a.Z,{sx:{flexGrow:0},children:[r.jsx(O(),{variant:"contained",color:"secondary",sx:{mx:2,display:{xs:"none",sm:"inline-flex"},maxWidth:{xs:"100px",sm:"none"}},onClick:()=>{console.log("Context isLoggedIn:",n()),console.log("Firebase isLoggedIn:",y),y?p.push("/create-listing"):p.push("/login")},children:r.jsx("strong",{children:"Create Listing"})}),(0,r.jsxs)(B(),{color:"inherit",onClick:e=>{h(e.currentTarget)},sx:{p:{xs:0,sm:1}},children:[r.jsx(S.Z,{fontSize:"large",sx:{color:"white"}}),r.jsx(q.Z,{fontSize:"large",sx:{color:"white"}})]})]})]})})}),r.jsx(Z(),{anchorEl:c,open:!!c,onClose:handleMenuClose,children:n()?(0,r.jsxs)("div",{children:[r.jsx(R(),{onClick:()=>{handleMenuClose();let e=s().uid;p.push(`/profile/${e}`)},children:"View Profile"}),r.jsx(R(),{onClick:handleMenuClose,children:"Settings"}),r.jsx(R(),{onClick:()=>{handleMenuClose(),l(),p.push("/"),m({open:!0,message:"Successfully logged out"})},children:"Log Out"})]}):(0,r.jsxs)("div",{children:[r.jsx(R(),{component:L(),href:"/login",onClick:handleMenuClose,children:"Log In"}),r.jsx(R(),{component:L(),href:"/signup",onClick:handleMenuClose,children:"Sign Up"})]})}),r.jsx(a.Z,{component:"main",sx:{flexGrow:1},children:e}),r.jsx(a.Z,{component:"footer",sx:{height:"100vh"},children:r.jsx(Footer,{})}),r.jsx($(),{open:x.open,autoHideDuration:6e3,onClose:()=>m({...x,open:!1}),children:r.jsx(z(),{onClose:()=>m({...x,open:!1}),severity:"success",sx:{width:"100%"},children:x.message})})]})})})})}n(72856)},96109:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Layout,metadata:()=>m});var r=n(4656),s=n(95153);let o=(0,s.createProxy)(String.raw`/Users/jlau/Code-2023/cpmarketplace/src/app/RootLayout.js`),{__esModule:i,$$typeof:l}=o,a=o.default,c=(0,s.createProxy)(String.raw`/Users/jlau/Code-2023/cpmarketplace/src/app/AuthProvider.js`),{__esModule:d,$$typeof:h}=c,u=c.default;c.useAuth;let x="slomarket",m={title:x};function Layout({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:r.jsx(u,{children:r.jsx(a,{title:x,children:e})})})})}}};